@inject IHttpContextAccessor context
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ITXplorers - @ViewData["Title"]</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/ProjektArtykuly.styles.css" asp-append-version="true" />
    <meta name="author" content="Artur Leszczak, Dawid Ugniewski" />
    <meta name="version" content="1.1.0"/>
    
    <!-- Czcionki -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bruno+Ace&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Monoton&family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet">

    <!-- Styles -->
        
    <link rel="stylesheet" href="~/css/@ViewData["Css"]" asp-append-version="true"/>

    <!-- Scripts -->

    <script asp-src-include="~/js/@(ViewData["Script"])" asp-append-version="true"></script>
    <script src="~/js/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <header style="height: 5vh;">
        <nav class="navbar">
            <div class="logo"><span style="color: #8300EA">IT</span>Xplorers</div>
            <div class="nagvigator" style="   display: inline-grid;width: max-content;justify-content: space-around;grid-template-columns: max-content max-content max-content max-content;grid-column-gap: 2vw;">
                <div class="navopt"><a asp-page="index" style=" text-decoration: none; color: #000; font-size: 1.7vh;">O stronie</a><div class="selector" id="1"></div></div>
                <div class="navopt"><a asp-page="articles" style=" text-decoration: none; color: #000; font-size: 1.7vh;">Artykuły</a><div class="selector" id="2"></div></div>
                <div class="navopt"><a asp-page="authors" style=" text-decoration: none; color: #000; font-size: 1.7vh;">O Autorach</a><div class="selector" id="3"></div></div>
                <div class="navopt"><a asp-page="contact" style=" text-decoration: none; color: #000; font-size: 1.7vh;">Kontakt</a><div class="selector" id="4"></div></div>
            </div>
            @{
                string name = context.HttpContext.Session.GetString("LoggedInUser");
                string userId = context.HttpContext.Session.GetString("LoggedInUserId");
                string userHavingAvatar = context.HttpContext.Session.GetString("UserHavingAvatar");
                string userRole = context.HttpContext.Session.GetString("LoggedUserRole");
                
                
                if (name != null)
                {
                    <div class="button" ><a asp-page="account" style="color: #fff; font-size: 1.4em; text-decoration: none; display: grid; justify-items: center;">Witaj, @(name)<div class="btnselector"></div>
                        </a><div class="avatar" @{
                            if (userHavingAvatar == "1")
                            {
                                @Html.Raw("style=\"background-image: url('../images/userimages/"+userId+".jpg'\"")
                            }
                            else
                            {
                                @Html.Raw("style=\"background-image: url('../images/userimages/"+userHavingAvatar+".jpg'\"")
                            }

                            
                        }></div>
                        <div class="list">
                            <a asp-page="Account">Moje konto</a>
                            @{
                                if(userRole == "1")
                                {
                                    <a asp-page="AdminPanel">Panel Admina</a>
                                }
                                else if(userRole == "2")
                                {
                                    <a asp-page="RedaktorPanel">Panel Redaktora</a>
                                }else{}
                             }
                            <a asp-page="Logout">Wyloguj</a>
                        </div>
                    </div>
                }
                else
                {
                    <div class="button" style="padding-right: 2vh;"><a asp-page="login" style="color: #fff; font-size: 1.4em; text-decoration: none;display: grid; justify-items: center;">Zaloguj się<div class="btnselector"></div></a></div>
                }
            }
           
        </nav>
    </header>
            @RenderBody()

    <script src="~/js/site.js" asp-append-version="true"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
<footer>
    <p style="font-size: 1rem; font-family: 'Inter'; color: #eeeeed; padding: 0; margin: 0;">&copy; 2023 - ITXplorers - Projekt na zaliczenie pracowni .NET PS2 - Artur Leszczak - Ugniewski Dawid - Aktualna strona - <b>@ViewData["Title"]</b></p>
</footer>
</html>